{"version":3,"sources":["src/about.js","src/app.js","src/environment.js","src/home.js","src/main.js","src/resources/index.js","src/resources/attributes/tool-tip.js","src/resources/elements/header.js","src/resources/elements/side-bar.js","src/resources/elements/sign-list-item.js","src/resources/elements/rally-canvas.js","C:/Users/rehnen/git/rally/src/about.html","C:/Users/rehnen/git/rally/src/app.css","C:/Users/rehnen/git/rally/src/app.html","C:/Users/rehnen/git/rally/src/home.css","C:/Users/rehnen/git/rally/src/home.html","C:/Users/rehnen/git/rally/src/resources/elements/rally-canvas.css","C:/Users/rehnen/git/rally/src/resources/elements/header.html","C:/Users/rehnen/git/rally/src/resources/elements/side-bar.css","C:/Users/rehnen/git/rally/src/resources/elements/rally-canvas.html","C:/Users/rehnen/git/rally/src/resources/elements/side-bar.html","C:/Users/rehnen/git/rally/src/resources/elements/sign-list-item.html"],"names":["About","App","message","configureRouter","config","router","title","options","pushState","map","route","name","moduleId","nav","debug","testing","Home","configure","Promise","warnings","wForgottenReturn","aurelia","use","standardConfiguration","feature","developmentLogging","plugin","start","then","setRoot","ToolTipCustomAttribute","Element","element","placement","attached","$","tooltip","delay","animation","width","Header","routerChange","console","log","getName","routes","find","a","SideBar","eventAggregator","elements","filterChanged","newValue","list","listItems","querySelectorAll","forEach","item","innerHTML","indexOf","style","display","mouseDown","e","imageRect","target","getBoundingClientRect","offsetX","clientX","left","offsetY","clientY","top","image","document","createElement","src","setAttribute","position","zIndex","getElementsByTagName","appendChild","onmouseup","onmousemove","undefined","ontouchmove","removeChild","publish","event","onMouseUp","touchStart","targetTouches","touchHandler","latestDrag","touchEndHandler","removeEventListener","positions","addEventListener","SignListItem","valueChanged","oldValue","RallyCanvas","setUpSubscription","images","subscribe","canvasRect","canvas","point","x","y","ctx","getContext","drawImage","push","img","touchAndClickHandler","type","changedTouches","CANVAS_CLICK_POINT","clickedImage","index","isImage","splice","cxt","OFFSET_X","OFFSET_Y","clearRect","touchMove","releasePressHandler","envet"],"mappings":"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","file":"app-bundle.js","sourcesContent":["import {observable} from \"aurelia-framework\";\r\nexport class About {\r\n}","export class App {\r\n  constructor() {\r\n    this.message = 'Rally in aurelia!';\r\n  }\r\n  \r\n  configureRouter(config, router) {\r\n    this.router = router;    \r\n    config.title = \"Rally\";\r\n    config.options.pushState = true;\r\n    config.map([\r\n      {\r\n        route: [\"\", \"home\", \"start\"],\r\n        name: \"Home\",\r\n        moduleId: \"home\",\r\n        nav: true,\r\n        title: \"Börja bygga bana!\"\r\n      },\r\n      {\r\n        route: \"about\",\r\n        name: \"About\",\r\n        moduleId: \"about\",\r\n        nav: true,\r\n        title: \"About Marcus\"\r\n      }\r\n    ]);\r\n  }\r\n}\r\n","export default {\r\n  debug: true,\r\n  testing: true\r\n};\r\n","export class Home {\r\n  constructor() {\r\n  }\r\n}\r\n","import environment from './environment';\r\n\r\n//Configure Bluebird Promises.\r\n//Note: You may want to use environment-specific configuration.\r\nPromise.config({\r\n  warnings: {\r\n    wForgottenReturn: false\r\n  }\r\n});\r\n\r\nexport function configure(aurelia) {\r\n  aurelia.use\r\n    .standardConfiguration()\r\n    .feature('resources');\r\n\r\n  if (environment.debug) {\r\n    aurelia.use.developmentLogging();\r\n  }\r\n\r\n  if (environment.testing) {\r\n    aurelia.use.plugin('aurelia-testing');\r\n  }\r\n\r\n  aurelia.start().then(() => aurelia.setRoot());\r\n}\r\n","export function configure(config) {\r\n  //config.globalResources([]);\r\n}\r\n","import {inject, bindable} from 'aurelia-framework';\r\n\r\n@inject(Element)\r\nexport class ToolTipCustomAttribute {\r\n  @bindable title:any;\r\n  @bindable placement:any;\r\n  constructor(element) {\r\n    this.element = element;\r\n    \r\n    if(!this.placement) {\r\n      this.placement = \"bottom\"\r\n    }\r\n  }\r\n  \r\n  attached() {\r\n    $(this.element).tooltip({\r\n      title:this.title,\r\n      placement: this.placement,\r\n      delay: 100,\r\n      animation: true,\r\n      width: \"500px\"\r\n    });\r\n  }\r\n}","import {bindable} from 'aurelia-framework';\r\n\r\nexport class Header {\r\n  @bindable router;\r\n  @bindable message;\r\n  @bindable routes;\r\n  \r\n  constructor() {}\r\n  routerChange(router) {\r\n    this.router = router;\r\n    console.log(router);\r\n  }\r\n  getName(title) {\r\n    //The title comes from the list that does not contain duplicates\r\n    //That list however does not contain the name of the \r\n    var route = this.router.routes.find(a => a.title === title);\r\n    return route.name;\r\n  }\r\n  \r\n  \r\n}","import {bindable} from 'aurelia-framework';\r\nimport {inject} from 'aurelia-framework';\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\n\r\n@inject(EventAggregator)\r\nexport class SideBar {\r\n  @bindable filter;\r\n  constructor(eventAggregator) {\r\n    this.eventAggregator = eventAggregator;\r\n    this.elements = [];\r\n  }\r\n  filterChanged(newValue) { //REMINDER: takes oldValue as second param\r\n    if(!this.list)\r\n      return;\r\n    var listItems = this.list.querySelectorAll(\"li\");\r\n    listItems.forEach((item) => {\r\n      if(item.innerHTML.indexOf(newValue) === -1) {\r\n        item.style.display = \"none\";\r\n      } else {\r\n        item.style.display = \"block\";\r\n      }\r\n    });\r\n  }\r\n  mouseDown(e) {\r\n    console.log(\"mousedown\");\r\n    const imageRect = e.target.getBoundingClientRect();\r\n    const offsetX = e.clientX - imageRect.left;\r\n    const offsetY = e.clientY - imageRect.top;\r\n\r\n    this.image = document.createElement(\"img\");\r\n    this.image.src = e.target.src;\r\n    this.image.setAttribute(\"id\", \"dragging-image\");\r\n    this.image.width = 100;\r\n    this.image.style.position = \"absolute\";\r\n    this.image.style.zIndex = 9999;\r\n    this.image.style.left = (e.clientX - offsetX) + \"px\";\r\n    this.image.style.top = (e.clientY - offsetY) + \"px\";\r\n    document.getElementsByTagName(\"body\")[0].appendChild(this.image);\r\n\r\n    this.image.onmouseup = (e) => {\r\n      console.log(e);\r\n      document.onmousemove = undefined;\r\n      document.ontouchmove = undefined;\r\n\r\n      document.getElementsByTagName(\"body\")[0].removeChild(this.image);\r\n      this.eventAggregator.publish(\"image-dragged\", {\r\n        event: e,\r\n        offsetX: offsetX,\r\n        offsetY: offsetY\r\n      });\r\n    };\r\n\r\n    document.onmousemove = (e) => {\r\n      this.image.style.left = (e.clientX - offsetX) + \"px\";\r\n      this.image.style.top = (e.clientY - offsetY) + \"px\";\r\n    };\r\n\r\n  }\r\n  onMouseUp(e) {\r\n    console.log(e)\r\n    document.onmousemove = undefined;\r\n    return true; //do not prevent default;\r\n  }\r\n\r\n  touchStart(e) {\r\n    console.log(\"touchstart\")\r\n    console.log(e)\r\n\r\n    const imageRect = e.target.getBoundingClientRect();\r\n    const offsetX = e.targetTouches[0].clientX - imageRect.left;\r\n    const offsetY = e.targetTouches[0].clientY - imageRect.top;\r\n\r\n    this.image = document.createElement(\"img\");\r\n    this.image.src = e.target.src;\r\n    this.image.setAttribute(\"id\", \"dragging-image\");\r\n    this.image.width = 100;\r\n    this.image.style.position = \"absolute\";\r\n    this.image.style.zIndex = 9999;\r\n    this.image.style.left = (e.targetTouches[0].clientX - offsetX) + \"px\";\r\n    this.image.style.top = (e.targetTouches[0].clientY - offsetY) + \"px\";\r\n    document.getElementsByTagName(\"body\")[0].appendChild(this.image);\r\n\r\n\r\n    const touchHandler = (e) => {\r\n      this.image.style.left = (e.targetTouches[0].clientX - offsetX) + \"px\";\r\n      this.image.style.top = (e.targetTouches[0].clientY - offsetY) + \"px\";\r\n      this.latestDrag = e;\r\n    };\r\n\r\n    const touchEndHandler = (e) => {\r\n      document.removeEventListener(\"touchmove\", touchHandler);\r\n      document.removeEventListener(\"touchend\", touchEndHandler);\r\n\r\n      console.log(e);\r\n      document.getElementsByTagName(\"body\")[0].removeChild(this.image);\r\n      const positions = {\r\n        clientX: this.latestDrag.targetTouches[0].clientX,\r\n        clientY: this.latestDrag.targetTouches[0].clientY,\r\n        target: this.latestDrag.target\r\n      };\r\n      this.eventAggregator.publish(\"image-dragged\", {\r\n        event: positions,\r\n        offsetX: offsetX,\r\n        offsetY: offsetY\r\n      });\r\n    };\r\n\r\n    document.addEventListener(\"touchmove\", touchHandler);\r\n    document.addEventListener(\"touchend\", touchEndHandler);\r\n  }\r\n}\r\n\r\n","import {bindable} from 'aurelia-framework';\r\n\r\nexport class SignListItem {\r\n  @bindable value;\r\n\r\n  valueChanged(newValue, oldValue) {\r\n\r\n  }\r\n}\r\n\r\n","import {bindable, inject} from 'aurelia-framework';\nimport {EventAggregator} from 'aurelia-event-aggregator';\n\n@inject(EventAggregator)\nexport class RallyCanvas {\n  @bindable value;\n\n  constructor(eventAggregator) {\n    this.eventAggregator = eventAggregator;\n    this.setUpSubscription();\n    this.images = [];\n  }\n\n  setUpSubscription() {\n    this.eventAggregator.subscribe(\"image-dragged\", event => {\n      const e = event.event;\n      const canvasRect = this.canvas.getBoundingClientRect();\n      const point = {\n        x: e.clientX - canvasRect.left - event.offsetX,\n        y: e.clientY - canvasRect.top - event.offsetY\n      };\n      const ctx = this.canvas.getContext(\"2d\");\n      ctx.drawImage(e.target, point.x, point.y, 100, 70);\n\n      this.images.push({\n        img: e.target,\n        x: point.x,\n        y: point.y\n      });\n\n    });\n  }\n\n  touchAndClickHandler(event) {\n    if(event.type === \"touchstart\") {\n      event = event.changedTouches[0];\n    }\n    const CANVAS_CLICK_POINT = {\n      x: event.clientX - this.canvas.getBoundingClientRect().left,\n      y: event.clientY - this.canvas.getBoundingClientRect().top\n    };\n\n\n    let clickedImage = this.images.find((image, index) => {\n      let isImage = (CANVAS_CLICK_POINT.x >= image.x\n      && CANVAS_CLICK_POINT.x <= image.x + 100\n      && CANVAS_CLICK_POINT.y >= image.y\n      && CANVAS_CLICK_POINT.y <= image.y + 70);\n      if(isImage) {\n        this.images.splice(index, 1);\n        return true;\n      }\n    });\n\n    const cxt = this.canvas.getContext(\"2d\");\n\n    if(clickedImage) {\n      const OFFSET_X = (CANVAS_CLICK_POINT.x - clickedImage.x);\n      const OFFSET_Y = (CANVAS_CLICK_POINT.y - clickedImage.y);\n      document.onmousemove = (e) => {\n        cxt.clearRect(0,0, 1000, 1000);\n\n        clickedImage.x = e.clientX - this.canvas.getBoundingClientRect().left - OFFSET_X;\n        clickedImage.y = e.clientY - this.canvas.getBoundingClientRect().top - OFFSET_Y;\n\n\n\n        this.images.push(clickedImage);\n\n        this.images.forEach(image => {\n          cxt.drawImage(image.img, image.x, image.y, 100, 70);\n        });\n      };\n\n\n        const touchMove = (e) => {\n\n        e = e.changedTouches[0];\n\n        console.log(e);\n        cxt.clearRect(0,0, 1000, 1000);\n\n        clickedImage.x = e.clientX - this.canvas.getBoundingClientRect().left - OFFSET_X;\n        clickedImage.y = e.clientY - this.canvas.getBoundingClientRect().top - OFFSET_Y;\n\n\n\n        this.images.push(clickedImage);\n\n        this.images.forEach(image => {\n          cxt.drawImage(image.img, image.x, image.y, 100, 70);\n        });\n      };\n      document.addEventListener(\"touchmove\", touchMove);\n      document.addEventListener(\"touchend\", () => {\n        document.removeEventListener(\"touchmove\", touchMove);\n      });\n\n\n    }\n\n    console.log(\"gecklicken\", clickedImage);\n    console.log(event);\n  }\n\n  releasePressHandler(envet) {\n    console.log(\"fisk\");\n    document.onmousemove = undefined;\n  }\n\n}\n",null,null,null,null,null,null,null,null,null,null,null],"sourceRoot":"..\\src"}
{"version":3,"sources":["src/about.js","src/app.js","src/environment.js","src/home.js","src/main.js","src/resources/index.js","src/resources/attributes/tool-tip.js","src/resources/elements/header.js","src/resources/elements/rally-canvas.js","src/resources/elements/side-bar.js","src/resources/elements/sign-list-item.js","C:/Users/rehnen/git/rally/src/about.html","C:/Users/rehnen/git/rally/src/app.css","C:/Users/rehnen/git/rally/src/app.html","C:/Users/rehnen/git/rally/src/home.css","C:/Users/rehnen/git/rally/src/home.html","C:/Users/rehnen/git/rally/src/resources/elements/rally-canvas.css","C:/Users/rehnen/git/rally/src/resources/elements/header.html","C:/Users/rehnen/git/rally/src/resources/elements/side-bar.css","C:/Users/rehnen/git/rally/src/resources/elements/rally-canvas.html","C:/Users/rehnen/git/rally/src/resources/elements/side-bar.html","C:/Users/rehnen/git/rally/src/resources/elements/sign-list-item.html"],"names":["About","App","message","configureRouter","config","router","title","options","pushState","map","route","name","moduleId","nav","debug","testing","Home","configure","Promise","warnings","wForgottenReturn","aurelia","use","standardConfiguration","feature","developmentLogging","plugin","start","then","setRoot","ToolTipCustomAttribute","Element","element","placement","attached","$","tooltip","delay","animation","width","Header","routerChange","console","log","getName","routes","find","a","RallyCanvas","eventAggregator","setUpSubscription","images","subscribe","e","event","canvasRect","canvas","getBoundingClientRect","point","x","clientX","left","offsetX","y","clientY","top","offsetY","ctx","getContext","drawImage","target","push","img","redraw","CXT","clearRect","forEach","touchAndClickHandler","type","changedTouches","CANVAS_CLICK_POINT","clickedImage","image","index","isImage","splice","cxt","OFFSET_X","OFFSET_Y","document","onmousemove","save","rotate","Math","PI","translate","restore","beginPath","rect","stroke","arc","touchMove","addEventListener","removeEventListener","releasePressHandler","undefined","click","SideBar","elements","filterChanged","newValue","list","listItems","querySelectorAll","item","innerHTML","indexOf","style","display","mouseDown","imageRect","createElement","src","setAttribute","position","zIndex","getElementsByTagName","appendChild","onmouseup","ontouchmove","removeChild","publish","onMouseUp","touchStart","targetTouches","touchHandler","latestDrag","touchEndHandler","positions","SignListItem","valueChanged","oldValue"],"mappings":"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","file":"app-bundle.js","sourcesContent":["import {observable} from \"aurelia-framework\";\r\nexport class About {\r\n}","export class App {\r\n  constructor() {\r\n    this.message = 'Rally in aurelia!';\r\n  }\r\n  \r\n  configureRouter(config, router) {\r\n    this.router = router;    \r\n    config.title = \"Rally\";\r\n    config.options.pushState = true;\r\n    config.map([\r\n      {\r\n        route: [\"\", \"home\", \"start\"],\r\n        name: \"Home\",\r\n        moduleId: \"home\",\r\n        nav: true,\r\n        title: \"BÃ¶rja bygga bana!\"\r\n      },\r\n      {\r\n        route: \"about\",\r\n        name: \"About\",\r\n        moduleId: \"about\",\r\n        nav: true,\r\n        title: \"About Marcus\"\r\n      }\r\n    ]);\r\n  }\r\n}\r\n","export default {\r\n  debug: true,\r\n  testing: true\r\n};\r\n","export class Home {\r\n  constructor() {\r\n  }\r\n}\r\n","import environment from './environment';\r\n\r\n//Configure Bluebird Promises.\r\n//Note: You may want to use environment-specific configuration.\r\nPromise.config({\r\n  warnings: {\r\n    wForgottenReturn: false\r\n  }\r\n});\r\n\r\nexport function configure(aurelia) {\r\n  aurelia.use\r\n    .standardConfiguration()\r\n    .feature('resources');\r\n\r\n  if (environment.debug) {\r\n    aurelia.use.developmentLogging();\r\n  }\r\n\r\n  if (environment.testing) {\r\n    aurelia.use.plugin('aurelia-testing');\r\n  }\r\n\r\n  aurelia.start().then(() => aurelia.setRoot());\r\n}\r\n","export function configure(config) {\r\n  //config.globalResources([]);\r\n}\r\n","import {inject, bindable} from 'aurelia-framework';\r\n\r\n@inject(Element)\r\nexport class ToolTipCustomAttribute {\r\n  @bindable title:any;\r\n  @bindable placement:any;\r\n  constructor(element) {\r\n    this.element = element;\r\n    \r\n    if(!this.placement) {\r\n      this.placement = \"bottom\"\r\n    }\r\n  }\r\n  \r\n  attached() {\r\n    $(this.element).tooltip({\r\n      title:this.title,\r\n      placement: this.placement,\r\n      delay: 100,\r\n      animation: true,\r\n      width: \"500px\"\r\n    });\r\n  }\r\n}","import {bindable} from 'aurelia-framework';\r\n\r\nexport class Header {\r\n  @bindable router;\r\n  @bindable message;\r\n  @bindable routes;\r\n  \r\n  constructor() {}\r\n  routerChange(router) {\r\n    this.router = router;\r\n    console.log(router);\r\n  }\r\n  getName(title) {\r\n    //The title comes from the list that does not contain duplicates\r\n    //That list however does not contain the name of the \r\n    var route = this.router.routes.find(a => a.title === title);\r\n    return route.name;\r\n  }\r\n  \r\n  \r\n}","import {bindable, inject} from 'aurelia-framework';\nimport {EventAggregator} from 'aurelia-event-aggregator';\n\n@inject(EventAggregator)\nexport class RallyCanvas {\n  @bindable value;\n\n  constructor(eventAggregator) {\n    this.eventAggregator = eventAggregator;\n    this.setUpSubscription();\n    this.images = [];\n  }\n\n  setUpSubscription() {\n    this.eventAggregator.subscribe(\"image-dragged\", event => {\n      const e = event.event;\n      const canvasRect = this.canvas.getBoundingClientRect();\n      const point = {\n        x: e.clientX - canvasRect.left - event.offsetX,\n        y: e.clientY - canvasRect.top - event.offsetY\n      };\n      const ctx = this.canvas.getContext(\"2d\");\n      ctx.drawImage(e.target, point.x, point.y, 100, 70);\n\n      this.images.push({\n        img: e.target,\n        x: point.x,\n        y: point.y\n      });\n\n    });\n  }\n  redraw() {\n    const CXT = this.canvas.getContext(\"2d\");\n    CXT.clearRect(0, 0, 1000, 1000);\n    this.images.forEach(img => {\n      CXT.drawImage(img.img, img.x, img.y, 100, 70);\n    });\n  }\n\n  touchAndClickHandler(event) {\n    this.redraw();\n    if(event.type === \"touchstart\") {\n      event = event.changedTouches[0];\n    }\n    const CANVAS_CLICK_POINT = {\n      x: event.clientX - this.canvas.getBoundingClientRect().left,\n      y: event.clientY - this.canvas.getBoundingClientRect().top\n    };\n\n    let clickedImage = this.images.find((image, index) => {\n      let isImage = (CANVAS_CLICK_POINT.x >= image.x\n      && CANVAS_CLICK_POINT.x <= image.x + 100\n      && CANVAS_CLICK_POINT.y >= image.y\n      && CANVAS_CLICK_POINT.y <= image.y + 70);\n      if(isImage) {\n        this.images.splice(index, 1);\n        return true;\n      }\n    });\n\n    const cxt = this.canvas.getContext(\"2d\");\n\n    if(clickedImage) {\n      const OFFSET_X = (CANVAS_CLICK_POINT.x - clickedImage.x);\n      const OFFSET_Y = (CANVAS_CLICK_POINT.y - clickedImage.y);\n      document.onmousemove = (e) => {\n        cxt.clearRect(0,0, 1000, 1000);\n\n        clickedImage.x = e.clientX - this.canvas.getBoundingClientRect().left - OFFSET_X;\n        clickedImage.y = e.clientY - this.canvas.getBoundingClientRect().top - OFFSET_Y;\n\n        this.images.push(clickedImage);\n        cxt.save();\n        cxt.rotate(10*Math.PI/180);\n        cxt.translate(35, 50);\n        this.images.forEach(image => {\n          cxt.drawImage(image.img, image.x , image.y, 100, 70);\n        });\n        cxt.restore();\n\n        cxt.beginPath();\n        cxt.rect(clickedImage.x -1, clickedImage.y -1, 102, 72);\n        cxt.stroke();\n\n        cxt.beginPath();\n        cxt.arc(clickedImage.x + 50, clickedImage.y - 8, 5, 0, 2* Math.PI);\n        cxt.stroke();\n      };\n\n\n      const touchMove = (e) => {\n\n        e = e.changedTouches[0];\n        cxt.clearRect(0,0, 1000, 1000);\n\n        clickedImage.x = e.clientX - this.canvas.getBoundingClientRect().left - OFFSET_X;\n        clickedImage.y = e.clientY - this.canvas.getBoundingClientRect().top - OFFSET_Y;\n\n        this.images.push(clickedImage);\n\n        this.images.forEach(image => {\n          cxt.drawImage(image.img, image.x, image.y, 100, 70);\n        });\n      };\n      document.addEventListener(\"touchmove\", touchMove);\n      document.addEventListener(\"touchend\", () => {\n        document.removeEventListener(\"touchmove\", touchMove);\n      });\n    }\n  }\n\n  releasePressHandler(event) {\n    document.onmousemove = undefined;\n  }\n\n  click(event) {\n\n    const CANVAS_CLICK_POINT = {\n      x: event.clientX - this.canvas.getBoundingClientRect().left,\n      y: event.clientY - this.canvas.getBoundingClientRect().top\n    };\n\n\n    let clickedImage = this.images.find((image, index) => {\n      let isImage = (CANVAS_CLICK_POINT.x >= image.x\n      && CANVAS_CLICK_POINT.x <= image.x + 100\n      && CANVAS_CLICK_POINT.y >= image.y\n      && CANVAS_CLICK_POINT.y <= image.y + 70);\n      if(isImage) {\n        this.images.splice(index, 1);\n        return true;\n      }\n    });\n    if(!clickedImage) {\n      return;\n    }\n    console.log(123);\n\n    const CXT = this.canvas.getContext(\"2d\");\n    CXT.clearRect(0,0,1000,1000);\n\n    this.images.forEach(img => {\n      CXT.drawImage(img.img, img.x, img.y, 100, 70);\n    });\n\n    CXT.rect(clickedImage.x -1, clickedImage.y -1, 101, 71);\n    CXT.stroke();\n\n    this.images.push(clickedImage);\n    CXT.beginPath();\n    CXT.drawImage(clickedImage.img, clickedImage.x, clickedImage.y, 100, 70);\n  }\n\n}\n","import {bindable} from 'aurelia-framework';\r\nimport {inject} from 'aurelia-framework';\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\n\r\n@inject(EventAggregator)\r\nexport class SideBar {\r\n  @bindable filter;\r\n  constructor(eventAggregator) {\r\n    this.eventAggregator = eventAggregator;\r\n    this.elements = [];\r\n  }\r\n  filterChanged(newValue) { //REMINDER: takes oldValue as second param\r\n    if(!this.list)\r\n      return;\r\n    var listItems = this.list.querySelectorAll(\"li\");\r\n    listItems.forEach((item) => {\r\n      if(item.innerHTML.indexOf(newValue) === -1) {\r\n        item.style.display = \"none\";\r\n      } else {\r\n        item.style.display = \"block\";\r\n      }\r\n    });\r\n  }\r\n  mouseDown(e) {\r\n    console.log(\"mousedown\");\r\n    const imageRect = e.target.getBoundingClientRect();\r\n    const offsetX = e.clientX - imageRect.left;\r\n    const offsetY = e.clientY - imageRect.top;\r\n\r\n    this.image = document.createElement(\"img\");\r\n    this.image.src = e.target.src;\r\n    this.image.setAttribute(\"id\", \"dragging-image\");\r\n    this.image.width = 100;\r\n    this.image.style.position = \"absolute\";\r\n    this.image.style.zIndex = 9999;\r\n    this.image.style.left = (e.clientX - offsetX) + \"px\";\r\n    this.image.style.top = (e.clientY - offsetY) + \"px\";\r\n    document.getElementsByTagName(\"body\")[0].appendChild(this.image);\r\n\r\n    this.image.onmouseup = (e) => {\r\n      console.log(e);\r\n      document.onmousemove = undefined;\r\n      document.ontouchmove = undefined;\r\n\r\n      document.getElementsByTagName(\"body\")[0].removeChild(this.image);\r\n      this.eventAggregator.publish(\"image-dragged\", {\r\n        event: e,\r\n        offsetX: offsetX,\r\n        offsetY: offsetY\r\n      });\r\n    };\r\n\r\n    document.onmousemove = (e) => {\r\n      this.image.style.left = (e.clientX - offsetX) + \"px\";\r\n      this.image.style.top = (e.clientY - offsetY) + \"px\";\r\n    };\r\n\r\n  }\r\n  onMouseUp(e) {\r\n    console.log(e)\r\n    document.onmousemove = undefined;\r\n    return true; //do not prevent default;\r\n  }\r\n\r\n  touchStart(e) {\r\n    console.log(\"touchstart\")\r\n    console.log(e)\r\n\r\n    const imageRect = e.target.getBoundingClientRect();\r\n    const offsetX = e.targetTouches[0].clientX - imageRect.left;\r\n    const offsetY = e.targetTouches[0].clientY - imageRect.top;\r\n\r\n    this.image = document.createElement(\"img\");\r\n    this.image.src = e.target.src;\r\n    this.image.setAttribute(\"id\", \"dragging-image\");\r\n    this.image.width = 100;\r\n    this.image.style.position = \"absolute\";\r\n    this.image.style.zIndex = 9999;\r\n    this.image.style.left = (e.targetTouches[0].clientX - offsetX) + \"px\";\r\n    this.image.style.top = (e.targetTouches[0].clientY - offsetY) + \"px\";\r\n    document.getElementsByTagName(\"body\")[0].appendChild(this.image);\r\n\r\n\r\n    const touchHandler = (e) => {\r\n      this.image.style.left = (e.targetTouches[0].clientX - offsetX) + \"px\";\r\n      this.image.style.top = (e.targetTouches[0].clientY - offsetY) + \"px\";\r\n      this.latestDrag = e;\r\n    };\r\n\r\n    const touchEndHandler = (e) => {\r\n      document.removeEventListener(\"touchmove\", touchHandler);\r\n      document.removeEventListener(\"touchend\", touchEndHandler);\r\n\r\n      console.log(e);\r\n      document.getElementsByTagName(\"body\")[0].removeChild(this.image);\r\n      const positions = {\r\n        clientX: this.latestDrag.targetTouches[0].clientX,\r\n        clientY: this.latestDrag.targetTouches[0].clientY,\r\n        target: this.latestDrag.target\r\n      };\r\n      this.eventAggregator.publish(\"image-dragged\", {\r\n        event: positions,\r\n        offsetX: offsetX,\r\n        offsetY: offsetY\r\n      });\r\n    };\r\n\r\n    document.addEventListener(\"touchmove\", touchHandler);\r\n    document.addEventListener(\"touchend\", touchEndHandler);\r\n  }\r\n}\r\n\r\n","import {bindable} from 'aurelia-framework';\r\n\r\nexport class SignListItem {\r\n  @bindable value;\r\n\r\n  valueChanged(newValue, oldValue) {\r\n\r\n  }\r\n}\r\n\r\n",null,null,null,null,null,null,null,null,null,null,null],"sourceRoot":"..\\src"}